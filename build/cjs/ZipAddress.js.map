{"version":3,"file":"ZipAddress.js","sources":["../../src/ZipAddress.js"],"sourcesContent":["import { __ } from \"@wordpress/i18n\";\r\n\r\n//郵便番号検索のデータと関数\r\nexport const fetchZipToAddress = async (zipNum) => {\r\n  if (!/^\\d{7}$/.test(zipNum)) {\r\n    alert(\r\n      __(\r\n        \"Please enter your postal code as 7 digits without hyphens.\",\r\n        \"block-collections\"\r\n      )\r\n    );\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(\r\n      `https://zipcloud.ibsnet.co.jp/api/search?zipcode=${zipNum.replace(\r\n        \"-\",\r\n        \"\"\r\n      )}`\r\n    );\r\n    const data = await response.json();\r\n\r\n    if (data.results && data.results.length > 0) {\r\n      const result = data.results[0];\r\n      return result;\r\n    } else {\r\n      alert(__(\"No matching address found\", \"block-collections\"));\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    alert(__(\"Communication failed\", \"block-collections\"));\r\n    return null;\r\n  }\r\n};\r\n"],"names":["fetchZipToAddress","_ref","_asyncToGenerator","zipNum","test","alert","__","response","fetch","concat","replace","data","json","results","length","result","error","_x","apply","arguments"],"mappings":";;;;;AAEA;IACaA,iBAAiB,gBAAA,YAAA;AAAA,EAAA,IAAAC,IAAA,GAAAC,0CAAA,CAAG,WAAOC,MAAM,EAAK;AACjD,IAAA,IAAI,CAAC,SAAS,CAACC,IAAI,CAACD,MAAM,CAAC,EAAE;AAC3BE,MAAAA,KAAK,CACHC,OAAE,CACA,4DAA4D,EAC5D,mBACF,CACF,CAAC;AACD,MAAA,OAAO,IAAI;AACb,IAAA;IAEA,IAAI;AACF,MAAA,IAAMC,QAAQ,GAAA,MAASC,KAAK,CAAA,mDAAA,CAAAC,MAAA,CAC0BN,MAAM,CAACO,OAAO,CAChE,GAAG,EACH,EACF,CAAC,CACH,CAAC;AACD,MAAA,IAAMC,IAAI,GAAA,MAASJ,QAAQ,CAACK,IAAI,EAAE;MAElC,IAAID,IAAI,CAACE,OAAO,IAAIF,IAAI,CAACE,OAAO,CAACC,MAAM,GAAG,CAAC,EAAE;AAC3C,QAAA,IAAMC,MAAM,GAAGJ,IAAI,CAACE,OAAO,CAAC,CAAC,CAAC;AAC9B,QAAA,OAAOE,MAAM;AACf,MAAA,CAAC,MAAM;AACLV,QAAAA,KAAK,CAACC,OAAE,CAAC,2BAA2B,EAAE,mBAAmB,CAAC,CAAC;AAC3D,QAAA,OAAO,IAAI;AACb,MAAA;IACF,CAAC,CAAC,OAAOU,KAAK,EAAE;AACdX,MAAAA,KAAK,CAACC,OAAE,CAAC,sBAAsB,EAAE,mBAAmB,CAAC,CAAC;AACtD,MAAA,OAAO,IAAI;AACb,IAAA;EACF,CAAC,CAAA;EAAA,OAAA,SA/BYN,iBAAiBA,CAAAiB,EAAA,EAAA;AAAA,IAAA,OAAAhB,IAAA,CAAAiB,KAAA,CAAA,IAAA,EAAAC,SAAA,CAAA;AAAA,EAAA,CAAA;AAAA,CAAA;;;;"}